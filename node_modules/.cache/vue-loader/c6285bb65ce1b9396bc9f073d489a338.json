{"remainingRequest":"/Users/xieronghuo/jnd-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xieronghuo/jnd-demo/node_modules/view-design/src/components/dropdown/dropdown.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xieronghuo/jnd-demo/node_modules/view-design/src/components/dropdown/dropdown.vue","mtime":1600053113000},{"path":"/Users/xieronghuo/jnd-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xieronghuo/jnd-demo/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/xieronghuo/jnd-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xieronghuo/jnd-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgICBpbXBvcnQgRHJvcCBmcm9tICcuLi9zZWxlY3QvZHJvcGRvd24udnVlJzsKICAgIGltcG9ydCBjbGlja091dHNpZGUgZnJvbSAnLi4vLi4vZGlyZWN0aXZlcy9jbGlja291dHNpZGUnOwogICAgaW1wb3J0IFRyYW5zZmVyRG9tIGZyb20gJy4uLy4uL2RpcmVjdGl2ZXMvdHJhbnNmZXItZG9tJzsKICAgIGltcG9ydCB7IG9uZU9mLCBmaW5kQ29tcG9uZW50VXB3YXJkIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXNzaXN0JzsKCiAgICBjb25zdCBwcmVmaXhDbHMgPSAnaXZ1LWRyb3Bkb3duJzsKCiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgbmFtZTogJ0Ryb3Bkb3duJywKICAgICAgICBkaXJlY3RpdmVzOiB7IGNsaWNrT3V0c2lkZSwgVHJhbnNmZXJEb20gfSwKICAgICAgICBjb21wb25lbnRzOiB7IERyb3AgfSwKICAgICAgICBwcm9wczogewogICAgICAgICAgICB0cmlnZ2VyOiB7CiAgICAgICAgICAgICAgICB2YWxpZGF0b3IgKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uZU9mKHZhbHVlLCBbJ2NsaWNrJywgJ2hvdmVyJywgJ2N1c3RvbScsICdjb250ZXh0TWVudSddKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBkZWZhdWx0OiAnaG92ZXInCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBsYWNlbWVudDogewogICAgICAgICAgICAgICAgdmFsaWRhdG9yICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBvbmVPZih2YWx1ZSwgWyd0b3AnLCAndG9wLXN0YXJ0JywgJ3RvcC1lbmQnLCAnYm90dG9tJywgJ2JvdHRvbS1zdGFydCcsICdib3R0b20tZW5kJywgJ2xlZnQnLCAnbGVmdC1zdGFydCcsICdsZWZ0LWVuZCcsICdyaWdodCcsICdyaWdodC1zdGFydCcsICdyaWdodC1lbmQnXSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZGVmYXVsdDogJ2JvdHRvbScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdmlzaWJsZTogewogICAgICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRyYW5zZmVyOiB7CiAgICAgICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICAgICAgZGVmYXVsdCAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLiRJVklFVyB8fCB0aGlzLiRJVklFVy50cmFuc2ZlciA9PT0gJycgPyBmYWxzZSA6IHRoaXMuJElWSUVXLnRyYW5zZmVyOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB0cmFuc2ZlckNsYXNzTmFtZTogewogICAgICAgICAgICAgICAgdHlwZTogU3RyaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbjogewogICAgICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vIDQuMC4wCiAgICAgICAgICAgIGNhcHR1cmU6IHsKICAgICAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgICAgICBkZWZhdWx0ICgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXRoaXMuJElWSUVXID8gdHJ1ZSA6IHRoaXMuJElWSUVXLmNhcHR1cmU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgICAgIHRyYW5zaXRpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIFsnYm90dG9tLXN0YXJ0JywgJ2JvdHRvbScsICdib3R0b20tZW5kJ10uaW5kZXhPZih0aGlzLnBsYWNlbWVudCkgPiAtMSA/ICdzbGlkZS11cCcgOiAnZmFkZSc7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRyb3Bkb3duQ2xzICgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgW3ByZWZpeENscyArICctdHJhbnNmZXInXTogdGhpcy50cmFuc2ZlciwKICAgICAgICAgICAgICAgICAgICBbdGhpcy50cmFuc2ZlckNsYXNzTmFtZV06IHRoaXMudHJhbnNmZXJDbGFzc05hbWUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlbENsYXNzZXMgKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIFsKICAgICAgICAgICAgICAgICAgICBgJHtwcmVmaXhDbHN9LXJlbGAsCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBbYCR7cHJlZml4Q2xzfS1yZWwtdXNlci1zZWxlY3Qtbm9uZWBdOiB0aGlzLnRyaWdnZXIgPT09ICdjb250ZXh0TWVudScKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBkYXRhICgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLAogICAgICAgICAgICAgICAgY3VycmVudFZpc2libGU6IHRoaXMudmlzaWJsZQogICAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgd2F0Y2g6IHsKICAgICAgICAgICAgdmlzaWJsZSAodmFsKSB7CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWaXNpYmxlID0gdmFsOwogICAgICAgICAgICB9LAogICAgICAgICAgICBjdXJyZW50VmlzaWJsZSAodmFsKSB7CiAgICAgICAgICAgICAgICBpZiAodmFsKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5kcm9wLnVwZGF0ZSgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmRyb3AuZGVzdHJveSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb24tdmlzaWJsZS1jaGFuZ2UnLCB2YWwpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBtZXRob2RzOiB7CiAgICAgICAgICAgIGhhbmRsZUNsaWNrICgpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyaWdnZXIgPT09ICdjdXN0b20nKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmlnZ2VyICE9PSAnY2xpY2snKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gIzY2MQogICAgICAgICAgICAgICAgY29uc3QgJHBhcmVudCA9IHRoaXMuaGFzUGFyZW50KCk7CiAgICAgICAgICAgICAgICBpZiAoISRwYXJlbnQpIHRoaXMuY3VycmVudFZpc2libGUgPSAhdGhpcy5jdXJyZW50VmlzaWJsZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaGFuZGxlUmlnaHRDbGljayAoKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmlnZ2VyID09PSAnY3VzdG9tJykgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgaWYgKHRoaXMudHJpZ2dlciAhPT0gJ2NvbnRleHRNZW51JykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZpc2libGUgPSAhdGhpcy5jdXJyZW50VmlzaWJsZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaGFuZGxlTW91c2VlbnRlciAoKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmlnZ2VyID09PSAnY3VzdG9tJykgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgaWYgKHRoaXMudHJpZ2dlciAhPT0gJ2hvdmVyJykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0aGlzLnRpbWVvdXQpIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpOwogICAgICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICB9LCAyNTApOwogICAgICAgICAgICB9LAogICAgICAgICAgICBoYW5kbGVNb3VzZWxlYXZlICgpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyaWdnZXIgPT09ICdjdXN0b20nKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmlnZ2VyICE9PSAnaG92ZXInKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHRoaXMudGltZW91dCkgewogICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpOwogICAgICAgICAgICAgICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSwgMTUwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25DbGlja291dHNpZGUgKGUpIHsKICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2xvc2UoKTsKICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUmlnaHRDbG9zZSgpOwogICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFZpc2libGUpIHRoaXMuJGVtaXQoJ29uLWNsaWNrb3V0c2lkZScsIGUpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBoYW5kbGVDbG9zZSAoKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmlnZ2VyID09PSAnY3VzdG9tJykgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgaWYgKHRoaXMudHJpZ2dlciAhPT0gJ2NsaWNrJykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaGFuZGxlUmlnaHRDbG9zZSAoKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmlnZ2VyID09PSAnY3VzdG9tJykgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgaWYgKHRoaXMudHJpZ2dlciAhPT0gJ2NvbnRleHRNZW51JykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaGFzUGFyZW50ICgpIHsKLy8gICAgICAgICAgICAgICAgY29uc3QgJHBhcmVudCA9IHRoaXMuJHBhcmVudC4kcGFyZW50LiRwYXJlbnQ7CiAgICAgICAgICAgICAgICBjb25zdCAkcGFyZW50ID0gZmluZENvbXBvbmVudFVwd2FyZCh0aGlzLCAnRHJvcGRvd24nKTsKICAgICAgICAgICAgICAgIGlmICgkcGFyZW50KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRwYXJlbnQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbW91bnRlZCAoKSB7CiAgICAgICAgICAgIHRoaXMuJG9uKCdvbi1jbGljaycsIChrZXkpID0+IHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0b3BQcm9wYWdhdGlvbikgcmV0dXJuOwogICAgICAgICAgICAgICAgY29uc3QgJHBhcmVudCA9IHRoaXMuaGFzUGFyZW50KCk7CiAgICAgICAgICAgICAgICBpZiAoJHBhcmVudCkgJHBhcmVudC4kZW1pdCgnb24tY2xpY2snLCBrZXkpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy4kb24oJ29uLWhvdmVyLWNsaWNrJywgKCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgJHBhcmVudCA9IHRoaXMuaGFzUGFyZW50KCk7CiAgICAgICAgICAgICAgICBpZiAoJHBhcmVudCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJpZ2dlciA9PT0gJ2N1c3RvbScpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICRwYXJlbnQuJGVtaXQoJ29uLWhvdmVyLWNsaWNrJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJpZ2dlciA9PT0gJ2N1c3RvbScpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy4kb24oJ29uLWhhc2NoaWxkLWNsaWNrJywgKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyaWdnZXIgPT09ICdjdXN0b20nKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvbnN0ICRwYXJlbnQgPSB0aGlzLmhhc1BhcmVudCgpOwogICAgICAgICAgICAgICAgaWYgKCRwYXJlbnQpICRwYXJlbnQuJGVtaXQoJ29uLWhhc2NoaWxkLWNsaWNrJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH07Cg=="},{"version":3,"sources":["dropdown.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dropdown.vue","sourceRoot":"node_modules/view-design/src/components/dropdown","sourcesContent":["<template>\n    <div\n        :class=\"[prefixCls]\"\n        v-click-outside=\"onClickoutside\"\n        @mouseenter=\"handleMouseenter\"\n        @mouseleave=\"handleMouseleave\">\n        <div :class=\"relClasses\" ref=\"reference\" @click=\"handleClick\" @contextmenu.prevent=\"handleRightClick\"><slot></slot></div>\n        <transition name=\"transition-drop\">\n            <Drop\n                :class=\"dropdownCls\"\n                v-show=\"currentVisible\"\n                :placement=\"placement\"\n                ref=\"drop\"\n                @mouseenter.native=\"handleMouseenter\"\n                @mouseleave.native=\"handleMouseleave\"\n                :data-transfer=\"transfer\"\n                :transfer=\"transfer\"\n                v-transfer-dom><slot name=\"list\"></slot></Drop>\n        </transition>\n    </div>\n</template>\n<script>\n    import Drop from '../select/dropdown.vue';\n    import clickOutside from '../../directives/clickoutside';\n    import TransferDom from '../../directives/transfer-dom';\n    import { oneOf, findComponentUpward } from '../../utils/assist';\n\n    const prefixCls = 'ivu-dropdown';\n\n    export default {\n        name: 'Dropdown',\n        directives: { clickOutside, TransferDom },\n        components: { Drop },\n        props: {\n            trigger: {\n                validator (value) {\n                    return oneOf(value, ['click', 'hover', 'custom', 'contextMenu']);\n                },\n                default: 'hover'\n            },\n            placement: {\n                validator (value) {\n                    return oneOf(value, ['top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left', 'left-start', 'left-end', 'right', 'right-start', 'right-end']);\n                },\n                default: 'bottom'\n            },\n            visible: {\n                type: Boolean,\n                default: false\n            },\n            transfer: {\n                type: Boolean,\n                default () {\n                    return !this.$IVIEW || this.$IVIEW.transfer === '' ? false : this.$IVIEW.transfer;\n                }\n            },\n            transferClassName: {\n                type: String\n            },\n            stopPropagation: {\n                type: Boolean,\n                default: false\n            },\n            // 4.0.0\n            capture: {\n                type: Boolean,\n                default () {\n                    return !this.$IVIEW ? true : this.$IVIEW.capture;\n                }\n            }\n        },\n        computed: {\n            transition () {\n                return ['bottom-start', 'bottom', 'bottom-end'].indexOf(this.placement) > -1 ? 'slide-up' : 'fade';\n            },\n            dropdownCls () {\n                return {\n                    [prefixCls + '-transfer']: this.transfer,\n                    [this.transferClassName]: this.transferClassName\n                };\n            },\n            relClasses () {\n                return [\n                    `${prefixCls}-rel`,\n                    {\n                        [`${prefixCls}-rel-user-select-none`]: this.trigger === 'contextMenu'\n                    }\n                ];\n            }\n        },\n        data () {\n            return {\n                prefixCls: prefixCls,\n                currentVisible: this.visible\n            };\n        },\n        watch: {\n            visible (val) {\n                this.currentVisible = val;\n            },\n            currentVisible (val) {\n                if (val) {\n                    this.$refs.drop.update();\n                } else {\n                    this.$refs.drop.destroy();\n                }\n                this.$emit('on-visible-change', val);\n            }\n        },\n        methods: {\n            handleClick () {\n                if (this.trigger === 'custom') return false;\n                if (this.trigger !== 'click') {\n                    return false;\n                }\n                // #661\n                const $parent = this.hasParent();\n                if (!$parent) this.currentVisible = !this.currentVisible;\n            },\n            handleRightClick () {\n                if (this.trigger === 'custom') return false;\n                if (this.trigger !== 'contextMenu') {\n                    return false;\n                }\n                this.currentVisible = !this.currentVisible;\n            },\n            handleMouseenter () {\n                if (this.trigger === 'custom') return false;\n                if (this.trigger !== 'hover') {\n                    return false;\n                }\n                if (this.timeout) clearTimeout(this.timeout);\n                this.timeout = setTimeout(() => {\n                    this.currentVisible = true;\n                }, 250);\n            },\n            handleMouseleave () {\n                if (this.trigger === 'custom') return false;\n                if (this.trigger !== 'hover') {\n                    return false;\n                }\n                if (this.timeout) {\n                    clearTimeout(this.timeout);\n                    this.timeout = setTimeout(() => {\n                        this.currentVisible = false;\n                    }, 150);\n                }\n            },\n            onClickoutside (e) {\n                this.handleClose();\n                this.handleRightClose();\n                if (this.currentVisible) this.$emit('on-clickoutside', e);\n            },\n            handleClose () {\n                if (this.trigger === 'custom') return false;\n                if (this.trigger !== 'click') {\n                    return false;\n                }\n                this.currentVisible = false;\n            },\n            handleRightClose () {\n                if (this.trigger === 'custom') return false;\n                if (this.trigger !== 'contextMenu') {\n                    return false;\n                }\n                this.currentVisible = false;\n            },\n            hasParent () {\n//                const $parent = this.$parent.$parent.$parent;\n                const $parent = findComponentUpward(this, 'Dropdown');\n                if ($parent) {\n                    return $parent;\n                } else {\n                    return false;\n                }\n            }\n        },\n        mounted () {\n            this.$on('on-click', (key) => {\n                if (this.stopPropagation) return;\n                const $parent = this.hasParent();\n                if ($parent) $parent.$emit('on-click', key);\n            });\n            this.$on('on-hover-click', () => {\n                const $parent = this.hasParent();\n                if ($parent) {\n                    this.$nextTick(() => {\n                        if (this.trigger === 'custom') return false;\n                        this.currentVisible = false;\n                    });\n                    $parent.$emit('on-hover-click');\n                } else {\n                    this.$nextTick(() => {\n                        if (this.trigger === 'custom') return false;\n                        this.currentVisible = false;\n                    });\n                }\n            });\n            this.$on('on-haschild-click', () => {\n                this.$nextTick(() => {\n                    if (this.trigger === 'custom') return false;\n                    this.currentVisible = true;\n                });\n                const $parent = this.hasParent();\n                if ($parent) $parent.$emit('on-haschild-click');\n            });\n        }\n    };\n</script>\n"]}]}